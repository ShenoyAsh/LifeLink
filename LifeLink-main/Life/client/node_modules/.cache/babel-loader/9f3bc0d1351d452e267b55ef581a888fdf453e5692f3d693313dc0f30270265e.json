{"ast":null,"code":"var _jsxFileName = \"E:\\\\LifeLink-main\\\\LifeLink-main\\\\Life\\\\client\\\\src\\\\components\\\\OTPModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Dialog, DialogPanel, DialogTitle, Transition, TransitionChild } from '@headlessui/react';\nimport { toast } from 'react-toastify';\nimport api from '../services/api';\nimport { Loader2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OTPModal({\n  isOpen,\n  onClose,\n  donorId,\n  onSuccess\n}) {\n  _s();\n  const [otp, setOtp] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (otp.length !== 6) {\n      toast.error('OTP must be 6 digits');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const res = await api.post(`/verify-donor/${donorId}`, {\n        otp\n      });\n      toast.success(res.data.message);\n      onSuccess(); // Call the success callback\n    } catch (err) {\n      var _err$response, _err$response$data;\n      toast.error(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'OTP verification failed');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Transition, {\n    show: isOpen,\n    as: React.Fragment,\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      as: \"div\",\n      className: \"relative z-50\",\n      onClose: onClose,\n      children: [/*#__PURE__*/_jsxDEV(TransitionChild, {\n        as: React.Fragment,\n        enter: \"ease-out duration-300\",\n        enterFrom: \"opacity-0\",\n        enterTo: \"opacity-100\",\n        leave: \"ease-in duration-200\",\n        leaveFrom: \"opacity-100\",\n        leaveTo: \"opacity-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 overflow-y-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex min-h-full items-center justify-center p-4 text-center\",\n          children: /*#__PURE__*/_jsxDEV(TransitionChild, {\n            as: React.Fragment,\n            enter: \"ease-out duration-300\",\n            enterFrom: \"opacity-0 scale-95\",\n            enterTo: \"opacity-100 scale-100\",\n            leave: \"ease-in duration-200\",\n            leaveFrom: \"opacity-100 scale-100\",\n            leaveTo: \"opacity-0 scale-95\",\n            children: /*#__PURE__*/_jsxDEV(DialogPanel, {\n              className: \"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all\",\n              children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                as: \"h3\",\n                className: \"text-lg font-medium leading-6 text-gray-900\",\n                children: \"Verify Your Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-2 text-sm text-gray-500\",\n                children: \"We've sent a 6-digit OTP to your email. Please enter it below.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                className: \"mt-4 space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"otp\",\n                    className: \"sr-only\",\n                    children: \"OTP\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"otp\",\n                    id: \"otp\",\n                    value: otp,\n                    onChange: e => setOtp(e.target.value),\n                    maxLength: 6,\n                    className: \"block w-full rounded-md border-gray-300 text-center text-2xl tracking-[0.5em] shadow-sm focus:border-primary-green focus:ring-primary-green\",\n                    placeholder: \"_ _ _ _ _ _\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 67,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: isLoading,\n                  className: \"flex w-full justify-center rounded-md border border-transparent bg-primary-green py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-dark-green focus:outline-none focus:ring-2 focus:ring-primary-green focus:ring-offset-2 disabled:opacity-50\",\n                  children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"h-5 w-5 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 34\n                  }, this) : 'Verify'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"w-full text-center text-sm text-gray-500 hover:underline\",\n                  onClick: onClose,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(OTPModal, \"P/7SCLFL9cJLEPOO5wLD2OM/jBg=\");\n_c = OTPModal;\nvar _c;\n$RefreshReg$(_c, \"OTPModal\");","map":{"version":3,"names":["React","useState","Dialog","DialogPanel","DialogTitle","Transition","TransitionChild","toast","api","Loader2","jsxDEV","_jsxDEV","OTPModal","isOpen","onClose","donorId","onSuccess","_s","otp","setOtp","isLoading","setIsLoading","handleSubmit","e","preventDefault","length","error","res","post","success","data","message","err","_err$response","_err$response$data","response","show","as","Fragment","children","className","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","name","id","value","onChange","target","maxLength","placeholder","disabled","onClick","_c","$RefreshReg$"],"sources":["E:/LifeLink-main/LifeLink-main/Life/client/src/components/OTPModal.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Dialog, DialogPanel, DialogTitle, Transition, TransitionChild } from '@headlessui/react';\nimport { toast } from 'react-toastify';\nimport api from '../services/api';\nimport { Loader2 } from 'lucide-react';\n\nexport default function OTPModal({ isOpen, onClose, donorId, onSuccess }) {\n  const [otp, setOtp] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (otp.length !== 6) {\n      toast.error('OTP must be 6 digits');\n      return;\n    }\n    \n    setIsLoading(true);\n    try {\n      const res = await api.post(`/verify-donor/${donorId}`, { otp });\n      toast.success(res.data.message);\n      onSuccess(); // Call the success callback\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'OTP verification failed');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Transition show={isOpen} as={React.Fragment}>\n      <Dialog as=\"div\" className=\"relative z-50\" onClose={onClose}>\n        <TransitionChild\n          as={React.Fragment}\n          enter=\"ease-out duration-300\"\n          enterFrom=\"opacity-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in duration-200\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className=\"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm\" />\n        </TransitionChild>\n\n        <div className=\"fixed inset-0 overflow-y-auto\">\n          <div className=\"flex min-h-full items-center justify-center p-4 text-center\">\n            <TransitionChild\n              as={React.Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <DialogPanel className=\"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all\">\n                <DialogTitle as=\"h3\" className=\"text-lg font-medium leading-6 text-gray-900\">\n                  Verify Your Account\n                </DialogTitle>\n                <p className=\"mt-2 text-sm text-gray-500\">\n                  We've sent a 6-digit OTP to your email. Please enter it below.\n                </p>\n\n                <form onSubmit={handleSubmit} className=\"mt-4 space-y-4\">\n                  <div>\n                    <label htmlFor=\"otp\" className=\"sr-only\">OTP</label>\n                    <input\n                      type=\"text\"\n                      name=\"otp\"\n                      id=\"otp\"\n                      value={otp}\n                      onChange={(e) => setOtp(e.target.value)}\n                      maxLength={6}\n                      className=\"block w-full rounded-md border-gray-300 text-center text-2xl tracking-[0.5em] shadow-sm focus:border-primary-green focus:ring-primary-green\"\n                      placeholder=\"_ _ _ _ _ _\"\n                    />\n                  </div>\n                  \n                  <button\n                    type=\"submit\"\n                    disabled={isLoading}\n                    className=\"flex w-full justify-center rounded-md border border-transparent bg-primary-green py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-dark-green focus:outline-none focus:ring-2 focus:ring-primary-green focus:ring-offset-2 disabled:opacity-50\"\n                  >\n                    {isLoading ? <Loader2 className=\"h-5 w-5 animate-spin\" /> : 'Verify'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"w-full text-center text-sm text-gray-500 hover:underline\"\n                    onClick={onClose}\n                  >\n                    Cancel\n                  </button>\n                </form>\n              </DialogPanel>\n            </TransitionChild>\n          </div>\n        </div>\n      </Dialog>\n    </Transition>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}